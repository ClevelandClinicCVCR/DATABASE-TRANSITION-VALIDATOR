# Database Transition Validation Configuration
#
# This file contains table mappings for validating data migration
# from Teradata to MS SQL Server.
database_setting:
  source_database:
    type: "Teradata" # Teradata, MS_SQL_Server
    index: 0 # Index (start from 0) of the database type in database_credentials_local.yml. Null or -1 means don't use index value, use name instead.
    name: "Teradata" # If index is null or -1, use name to identify the database credentials in database_credentials_local.yml
    # if both index and name are provided, index will be used.
    # if none of index and name is provided, the first entry (index 0) will be used.
    schema: "DL_MAGIC_PROD" # DL_MAGIC_DEV, DL_MAGIC_PROD (for Teradata). MAGIC_CORE, PYTHIA_CORE, dbo (for MS_SQL_Server)

  target_database:
    type: "MS_SQL_Server" # Teradata, MS_SQL_Server
    name: "MS_SQL_Server_DEV"
    schema: "MAGIC_CORE" # MAGIC_CORE, PYTHIA_CORE, dbo (for MS_SQL_Server). DL_MAGIC_DEV, DL_MAGIC_PROD (for Teradata)

table_mappings:
  # Patient Tables
  - source_table: "PATIENT"
    group: "PATIENT Group"
    key_columns: ["PAT_ID", "PAT_MRN_ID", "FIRST_NAME", "LAST_NAME", "DATE_OF_BIRTH"]
    data_transformation_rules: ["normalize_null_nan"]

  - source_table: "PATIENT_V"
    group: "PATIENT Group"
    key_columns: ["PAT_ID", "PAT_EPI_ID", "MRN", "FIRST_NAME", "LAST_NAME", "DATE_OF_BIRTH", "VITAL_STATUS", "SEX_ASSIGNED_AT_BIRTH", "RACE", "ETHNICITY", "ECOG_PERFORMANCE_STATUS"]
    data_transformation_rules: ["normalize_null_nan"]

  - source_table: "PATIENT_CANCER_DIAGNOSIS"
    group: "PATIENT Group"
    key_columns: ["CONFIDENCE_PERCENTAGE"]
    data_transformation_rules: ["normalize_null_nan"]

  - source_table: "PATIENT_CANCER_DIAGNOSIS_V"
    group: "PATIENT Group"
    key_columns: ["PAT_ID", "PAT_EPI_ID", "MRN", "FIRST_NAME", "LAST_NAME", "DATE_OF_BIRTH", "VITAL_STATUS", "LAST_ENCOUNTER_DATE", "ICD_O_SITE_CODE", "ICD_O_SITE_CODE_PREFIX", "ICD_O_MORPHOLOGY_CODE", "DIAGNOSIS_SOURCE"]
    data_transformation_rules: ["normalize_null_nan"]

  - source_table: "CANCER_DIAGNOSIS_V"
    key_columns: ["SITE_CODE", "SITE_CODE_PREFIX", "MORPHOLOGY_CODE"]
    data_transformation_rules: ["normalize_null_nan"]

  - source_table: "DIAGNOSIS_BREAST_CANCER_PATIENTS_V"
    group: "PATIENT Group"
    key_columns: ["PAT_ID", "PAT_EPI_ID", "MRN", "FIRST_NAME", "LAST_NAME", "DATE_OF_BIRTH", "ICD_O_SITE_CODE", "ICD_O_SITE_CODE_PREFIX", "ICD_O_MORPHOLOGY_CODE", "DIAGNOSIS_SOURCE"]
    data_transformation_rules: ["normalize_null_nan"]

  - source_table: "DIAGNOSIS_COLORECTAL_CANCER_PATIENTS_V"
    group: "PATIENT Group"
    key_columns: ["PAT_ID", "PAT_EPI_ID", "MRN", "FIRST_NAME", "LAST_NAME", "DATE_OF_BIRTH", "ICD_O_SITE_CODE", "ICD_O_SITE_CODE_PREFIX", "ICD_O_MORPHOLOGY_CODE", "DIAGNOSIS_SOURCE"]
    data_transformation_rules: ["normalize_null_nan"]

  - source_table: "DIAGNOSIS_GASTROINTESTINAL_CANCER_PATIENTS_V"
    group: "PATIENT Group"
    key_columns: ["PAT_ID", "PAT_EPI_ID", "MRN", "FIRST_NAME", "LAST_NAME", "DATE_OF_BIRTH", "ICD_O_SITE_CODE", "ICD_O_SITE_CODE_PREFIX", "ICD_O_MORPHOLOGY_CODE", "DIAGNOSIS_SOURCE"]
    data_transformation_rules: ["normalize_null_nan"]

  - source_table: "DIAGNOSIS_LUNG_CANCER_PATIENTS_V"
    group: "PATIENT Group"
    key_columns: ["PAT_ID", "PAT_EPI_ID", "MRN", "FIRST_NAME", "LAST_NAME", "DATE_OF_BIRTH", "ICD_O_SITE_CODE", "ICD_O_SITE_CODE_PREFIX", "ICD_O_MORPHOLOGY_CODE", "DIAGNOSIS_SOURCE"]
    data_transformation_rules: ["normalize_null_nan"]

  - source_table: "PATIENT_CLINICAL_CANCER_STAGE"
    group: "PATIENT Group"

  - source_table: "PATIENT_ECOG_PERFORMANCE_STATUS"
    group: "PATIENT Group"
    key_columns: ["ECOG_TIMESTAMP"]
    data_transformation_rules: ["normalize_null_nan"]

  - source_table: "PATIENT_LAB_RESULT"
    group: "PATIENT Group"
    key_columns: ["RESULT_VALUE", "RESULT_TIMESTAMP"]
    data_transformation_rules: ["normalize_null_nan"]

  - source_table: "PATIENT_LAB_RESULT_V"
    group: "PATIENT Group"
    key_columns: ["PAT_ID", "PAT_EPI_ID", "MRN", "FIRST_NAME", "LAST_NAME", "DATE_OF_BIRTH", "LAB_NAME", "LAB_RESULT"]
    data_transformation_rules: ["normalize_null_nan"]

  - source_table: "PATIENT_PATHOLOGICAL_CANCER_STAGE"
    group: "PATIENT Group"

  - source_table: "PATIENT_TREATMENT"
    group: "PATIENT Group"
    key_columns: ["START_TIMESTAMP", "END_TIMESTAMP"]
    data_transformation_rules: ["normalize_null_nan"]

  - source_table: "TREATMENT_EDV_TRANSLATION_V"
    key_columns: ["MAGIC_TREATMENT_NAME", "ALTERNATE_TREATMENT_NAME", "EDV_TREATMENT_NAME"]
    data_transformation_rules: ["normalize_null_nan"]

  - source_table: "PATIENT_TREATMENT_V"
    group: "PATIENT Group"
    key_columns: ["PAT_ID", "PAT_EPI_ID", "MRN", "FIRST_NAME", "LAST_NAME", "DATE_OF_BIRTH", "TREATMENT", "TREATMENT_TYPE"]
    data_transformation_rules: ["normalize_null_nan"]

  # Trial Tables
  - source_table: "TRIAL"
    group: "TRIAL Group"
    key_columns: ["NCT_ID", "PRMC_ID", "TRIAL_TITLE"]
    data_transformation_rules: ["normalize_null_nan"]

  - source_table: "TRIAL_V"
    group: "TRIAL Group"
    key_columns: ["NCT_ID", "PRMC_ID", "TRIAL_TITLE", "PHASES"]
    data_transformation_rules: ["normalize_null_nan"]

  - source_table: "TRIAL_AGE"
    group: "TRIAL Group"
    key_columns: ["AGE", "IS_NEGATION -> int", "WEIGHT"]
    data_transformation_rules: ["normalize_null_nan"]

  - source_table: "TRIAL_ARM"
    group: "TRIAL Group"
    key_columns: ["ARM_LABEL", "START_DATE", "END_DATE", "MAXIMUM_PARTICIPANTS", "ENROLLED_PARTICIPANTS", "COMMENTS"]
    data_transformation_rules: ["normalize_null_nan"]

  - source_table: "TRIAL_ARM_V"
    group: "TRIAL Group"
    key_columns: ["NCT_ID", "CCF_IRB_ID", "PRMC_ID", "TRIAL_TITLE", "STATUS"]
    data_transformation_rules: ["normalize_null_nan"]

  - source_table: "TRIAL_CANCER_DIAGNOSIS"
    group: "TRIAL Group"
    key_columns: ["IS_NEGATION -> int"]
    data_transformation_rules: ["normalize_null_nan"]

  - source_table: "TRIAL_CANCER_STAGE"
    group: "TRIAL Group"
    key_columns: ["IS_NEGATION -> int"]
    data_transformation_rules: ["normalize_null_nan"]

  - source_table: "TRIAL_CONTACT_V"
    group: "TRIAL Group"
    key_columns: ["NCT_ID", "PRMC_ID", "TRIAL_TITLE", "FIRST_NAME", "LAST_NAME"]
    data_transformation_rules: ["normalize_null_nan"]

  - source_table: "TRIAL_CONTACT_ASSIGNMENT"
    group: "TRIAL Group"

  - source_table: "TRIAL_ECOG_PERFORMANCE_STATUS"
    group: "TRIAL Group"
    key_columns: ["IS_NEGATION -> int"]
    data_transformation_rules: ["normalize_null_nan"]

  - source_table: "TRIAL_ETHNICITY"
    group: "TRIAL Group"
    key_columns: ["IS_NEGATION -> int"]
    data_transformation_rules: ["normalize_null_nan"]

  - source_table: "TRIAL_GENDER"
    group: "TRIAL Group"
    key_columns: ["IS_NEGATION -> int"]
    data_transformation_rules: ["normalize_null_nan"]

  - source_table: "TRIAL_INGEST_LOG"
    group: "TRIAL Group"

  - source_table: "TRIAL_INGEST_LOG_V"
    group: "TRIAL Group"
    key_columns: ["NCT_ID"]
    data_transformation_rules: ["normalize_null_nan"]

  - source_table: "TRIAL_LAB_RESULT"
    group: "TRIAL Group"
    key_columns: ["WASHOUT_PERIOD_IN_DAYS", "IS_NEGATION -> int"]
    data_transformation_rules: ["normalize_null_nan"]

  - source_table: "TRIAL_LOCATION_V"
    group: "TRIAL Group"
    key_columns: ["NCT_ID", "PRMC_ID", "TRIAL_TITLE", "LOCATION_NAME"]
    data_transformation_rules: ["normalize_null_nan"]

  - source_table: "TRIAL_LOCATION_ASSIGNMENT"
    group: "TRIAL Group"

  - source_table: "TRIAL_NGS_CNV"
    group: "TRIAL Group"
    key_columns: ["IS_NEGATION -> int"]
    data_transformation_rules: ["normalize_null_nan"]

  - source_table: "TRIAL_NGS_FUSION"
    group: "TRIAL Group"
    key_columns: ["IS_NEGATION -> int"]
    data_transformation_rules: ["normalize_null_nan"]

  - source_table: "TRIAL_NGS_FUSION_GENE"
    group: "TRIAL Group"
    key_columns: ["GENE_ORDER", "EXON_NUMBER", "REFSEQ"]
    data_transformation_rules: ["normalize_null_nan"]

  - source_table: "TRIAL_NGS_IHC"
    group: "TRIAL Group"
    key_columns: ["IS_NEGATION -> int"]
    data_transformation_rules: ["normalize_null_nan"]

  - source_table: "TRIAL_NGS_SNV"
    group: "TRIAL Group"
    key_columns: ["EXON_NUMBER", "HGVSC", "HGVSP_SHORT", "INCLUDE_VUS", "IS_NEGATION -> int"]
    data_transformation_rules: ["normalize_null_nan"]

  - source_table: "TRIAL_PHASE_ASSIGNMENT"
    group: "TRIAL Group"

  - source_table: "TRIAL_PRIOR_TREATMENT"
    group: "TRIAL Group"
    key_columns: ["WASHOUT_PERIOD_IN_DAYS", "IS_NEGATION -> int"]
    data_transformation_rules: ["normalize_null_nan"]

  - source_table: "TRIAL_RACE"
    group: "TRIAL Group"
    key_columns: ["IS_NEGATION -> int"]
    data_transformation_rules: ["normalize_null_nan"]

  - source_table: "TRIAL_SEX_ASSIGNED_AT_BIRTH"
    group: "TRIAL Group"
    key_columns: ["IS_NEGATION -> int"]
    data_transformation_rules: ["normalize_null_nan"]

  - source_table: "TRIAL_TYPE_ASSIGNMENT"
    group: "TRIAL Group"

  # NGS Tables
  - source_table: "NGS_CNV"
    key_columns: ["NUMERIC_VALUE", "REFSEQ", "IS_VARIANT_OF_UNKNOWN_SIGNIFICANCE -> int", "IS_WILD_TYPE -> int", "IS_INHERITED -> int", "IS_PATHOGENIC -> int", "IS_ACTIONABLE -> int", "IS_LOW_COVERAGE_AMPLICON -> int"]
    data_transformation_rules: ["normalize_null_nan"]

  - source_table: "NGS_CNV_V"
    key_columns: ["ACCESSION_NUMBER", "MRN", "PATIENT_FIRST_NAME", "PATIENT_LAST_NAME", "HUGO_SYMBOL", "BIOMARKER", "ASSAY_RESULT","NUMERIC_VALUE"]
    data_transformation_rules: ["normalize_null_nan"]

  - source_table: "NGS_FUSION"
    key_columns: ["DESCRIPTION", "NO_CHANGE_DETECTED"]
    data_transformation_rules: ["normalize_null_nan"]

  - source_table: "NGS_FUSION_GENE"
    key_columns: ["GENE_ORDER", "EXON_NUMBER", "REFSEQ", "CHROMOSOME", "START_POSITION", "STRAND"]
    data_transformation_rules: ["normalize_null_nan"]

  - source_table: "NGS_FUSION_V"
    key_columns: ["ACCESSION_NUMBER", "MRN", "PATIENT_FIRST_NAME", "PATIENT_LAST_NAME", "NO_CHANGE_DETECTED", "GENE_1_HUGO_SYMBOL", "GENE_1_EXON", "GENE_1_REFSEQ", "GENE_1_CHROMOSOME", "GENE_1_START_POSITION", "GENE_1_STRAND", "GENE_2_HUGO_SYMBOL", "GENE_2_EXON", "GENE_2_REFSEQ", "GENE_2_CHROMOSOME", "GENE_2_START_POSITION", "GENE_2_STRAND"]
    data_transformation_rules: ["normalize_null_nan"]

  - source_table: "NGS_GLOBAL_ALTERATION"
    key_columns: ["NUMERIC_VALUE"]
    data_transformation_rules: ["normalize_null_nan"]

  - source_table: "NGS_GLOBAL_ALTERATION_V"
    key_columns: ["ACCESSION_NUMBER", "MRN", "PATIENT_FIRST_NAME", "PATIENT_LAST_NAME", "GLOBAL_ALTERATION_TYPE", "ASSAY_RESULT", "NUMERIC_VALUE"]
    data_transformation_rules: ["normalize_null_nan"]

  - source_table: "NGS_IHC"
    key_columns: ["INTENSITY", "PERCENTAGE"]
    data_transformation_rules: ["normalize_null_nan"]

  - source_table: "NGS_IHC_V"
    key_columns: ["ACCESSION_NUMBER", "MRN", "PATIENT_FIRST_NAME", "PATIENT_LAST_NAME", "PROTEIN_ALIAS", "BIOMARKER", "HUGO_SYMBOL", "ASSAY_RESULT", "INTENSITY", "PERCENTAGE"]
    data_transformation_rules: ["normalize_null_nan"]

  - source_table: "NGS_RNASEQ"
    key_columns: ["TPM"]
    data_transformation_rules: ["normalize_null_nan"]

  - source_table: "NGS_SNV"
    key_columns: ["CHROMOSOME", "START_POSITION", "END_POSITION", "STRAND", "REFERENCE_ALLELE", "TUMOR_SEQ_ALLELE1", "TUMOR_SEQ_ALLELE2", "DBSNP_RS", "HGVSC", "HGVSP_SHORT", "EXON_NUMBER", "T_REF_COUNT", "T_ALT_COUNT", "REFSEQ", "VARIANT_ALLELE_FREQUENCY","GENOTYPE", "IS_VARIANT_OF_UNKNOWN_SIGNIFICANCE -> int", "IS_WILD_TYPE -> int", "IS_INHERITED -> int", "IS_PATHOGENIC -> int", "IS_ACTIONABLE -> int", "IS_LOW_COVERAGE_AMPLICON -> int"]
    data_transformation_rules: ["normalize_null_nan"]

  - source_table: "NGS_SNV_CLASSIFICATION"
    key_columns: ["NAME"]
    data_transformation_rules: ["normalize_null_nan"]

  - source_table: "NGS_SNV_CLASSIFICATION_TRANSLATION_V"
    key_columns: ["CLASSIFICATION_GROUP_NAME", "SOURCE_CLASSIFICATION_STRING", "MAGIC_CLASSIFICATION"]
    data_transformation_rules: ["normalize_null_nan"]

  - source_table: "NGS_SNV_V"
    key_columns: ["ACCESSION_NUMBER", "MRN", "PATIENT_FIRST_NAME", "PATIENT_LAST_NAME", "HUGO_SYMBOL", "BIOMARKER", "NCBI_BUILD", "CHROMOSOME", "START_POSITION", "END_POSITION", "STRAND", "CLASSIFICATION", "TYPE", "REFERENCE_ALLELE", "TUMOR_SEQ_ALLELE1", "TUMOR_SEQ_ALLELE2", "HGVSC", "HGVSP_SHORT", "EXON", "T_REF_COUNT", "T_ALT_COUNT", "VARIANT_ALLELE_FREQUENCY", "GENOTYPE", "IS_VARIANT_OF_UNKNOWN_SIGNIFICANCE -> int", "IS_WILD_TYPE -> int"]
    data_transformation_rules: ["normalize_null_nan"]

  - source_table: "NGS_TEST_RESULT"
    key_columns: ["ACCESSION_NUMBER", "IS_QNS -> int"]
    data_transformation_rules: ["normalize_null_nan"]

  - source_table: "NGS_TEST_RESULT_METADATA"
  - source_table: "NGS_TEST_RESULT_METADATA_TYPE"
    key_columns: ["NAME"]
    data_transformation_rules: ["normalize_null_nan"]

  - source_table: "NGS_TEST_RESULT_COUNT_BY_PANEL_V"
    key_columns: ["SOURCE_NAME", "PANEL_CODE", "PANEL_NAME", "RECORD_COUNT"]
    data_transformation_rules: ["normalize_null_nan"]

  - source_table: "NGS_TEST_RESULT_COUNT_BY_SOURCE_V"
    key_columns: ["SOURCE_NAME", "RECORD_COUNT"]
    data_transformation_rules: ["normalize_null_nan"]

  - source_table: "NGS_TEST_RESULT_DAILY_COUNT_V"
    key_columns: ["PIPELINE"]
    data_transformation_rules: ["normalize_null_nan"]

  - source_table: "NGS_TEST_RESULT_METADATA_V"
    key_columns: ["ACCESSION_NUMBER"]
    data_transformation_rules: ["normalize_null_nan"]

  - source_table: "NGS_TEST_RESULT_V"
    key_columns: ["ACCESSION_NUMBER", "PAT_ID", "MRN", "PATIENT_FIRST_NAME", "PATIENT_LAST_NAME", "SOURCE", "PANEL_CODE", "PATHOLOGY_CASE_NUMBER"]
    data_transformation_rules: ["normalize_null_nan"]

  - source_table: "NGS_TEST_RESULT_WEEKLY_COUNT_V"
    key_columns: ["PIPELINE"]
    data_transformation_rules: ["normalize_null_nan"]

  - source_table: "NGS_LOH_V"
    key_columns: ["ACCESSION_NUMBER", "MRN", "PATIENT_FIRST_NAME", "PATIENT_LAST_NAME", "ASSAY_RESULT", "NUMERIC_VALUE"]
    data_transformation_rules: ["normalize_null_nan"]

  - source_table: "NGS_MMR_V"
    key_columns: ["ACCESSION_NUMBER", "MRN", "PATIENT_FIRST_NAME", "PATIENT_LAST_NAME", "ASSAY_RESULT", "NUMERIC_VALUE"]
    data_transformation_rules: ["normalize_null_nan"]

  - source_table: "NGS_MSI_V"
    key_columns: ["ACCESSION_NUMBER", "MRN", "PATIENT_FIRST_NAME", "PATIENT_LAST_NAME", "ASSAY_RESULT", "NUMERIC_VALUE"]
    data_transformation_rules: ["normalize_null_nan"]

  - source_table: "NGS_TMB_V"
    key_columns: ["ACCESSION_NUMBER", "MRN", "PATIENT_FIRST_NAME", "PATIENT_LAST_NAME", "NUMERIC_VALUE"]
    data_transformation_rules: ["normalize_null_nan"]

  - source_table: "UNMATCHED_NGS_TEST_RESULT_V"
    key_columns: ["ACCESSION_NUMBER", "SOURCE", "PANEL"]
    data_transformation_rules: ["normalize_null_nan"]

  # MUTATION_ANNOTATION Tables
  - source_table: "MUTATION_ANNOTATION_CARIS_720"
    key_columns: ["Hugo_Symbol", "Chromosome", "Start_Position", "End_Position", "Variant_Type", "Reference_Allele", "Tumor_Seq_Allele1", "Tumor_Seq_Allele2", "HGVSp_Short", "EXON"]
    data_transformation_rules: ["normalize_null_nan"]

  - source_table: "MUTATION_ANNOTATION_CARIS_720_SILENT"
    key_columns: ["Hugo_Symbol", "Chromosome", "Start_Position", "End_Position", "Variant_Type", "Reference_Allele", "Tumor_Seq_Allele1", "Tumor_Seq_Allele2", "HGVSp_Short", "EXON"]
    data_transformation_rules: ["normalize_null_nan"]

  # Translation Tables
  - source_table: "TRANSLATE_DISEASE_DESCRIPTION_CANCER_DIAGNOSIS"
  - source_table: "TRANSLATE_DISEASE_DESCRIPTION_DEFINITION"
  - source_table: "TRANSLATE_EDV_MEDICATION_TREATMENT"
    key_columns: ["MED_NAME"]
    data_transformation_rules: ["normalize_null_nan"]

  - source_table: "TRANSLATE_SOURCE_VARIANT_CLASSIFICATION"
    key_columns: ["SOURCE_VARIANT_CLASSIFICATION"]
    data_transformation_rules: ["normalize_null_nan"]

  # Treatment Tables
  - source_table: "TREATMENT_TYPE_ASSIGNMENT"

  # Cancer Tables
  - source_table: "CANCER_DIAGNOSIS"
  - source_table: "CANCER_DIAGNOSIS_CRITERION"

  - source_table: "CANCER_TYPE"
    key_columns: ["Case_ID", "PAT_ID"]
    data_transformation_rules: ["normalize_null_nan"]

  - source_table: "ICD_O_MORPHOLOGY"
    key_columns: ["MORPHOLOGY_CODE", "BEHAVIOR_CODE", "DESCRIPTION"]
    data_transformation_rules: ["normalize_null_nan"]

  - source_table: "ALTERNATE_GENE_SYMBOL"
    key_columns: ["SYMBOL"]
    data_transformation_rules: ["normalize_null_nan"]

  - source_table: "ANCILLARY_TEST_RESULT"
  - source_table: "ANCILLARY_TEST_RESULT_METADATA"
  - source_table: "ANCILLARY_TEST_RESULT_METADATA_TYPE"
    key_columns: ["NAME"]
    data_transformation_rules: ["normalize_null_nan"]

  - source_table: "BIOMARKER_GENE_ASSIGNMENT"

  - source_table: "CBIOPORTAL_IDENTIFIER"
  - source_table: "COUNTRY"
    key_columns: ["NAME"]
    data_transformation_rules: ["normalize_null_nan"]

  - source_table: "GENDER"
    key_columns: ["NAME"]
    data_transformation_rules: ["normalize_null_nan"]

  - source_table: "GENE"
    key_columns: ["HUGO_SYMBOL", "ENTREZ_ID"]
    data_transformation_rules: ["normalize_null_nan"]

  - source_table: "MAGIC_ID_LOOKUP"

  - source_table: "PANEL"
    key_columns: ["CODE", "NAME"]
    data_transformation_rules: ["normalize_null_nan"]

  - source_table: "PANEL_VERSION"
    key_columns: ["VERSION"]
    data_transformation_rules: ["normalize_null_nan"]

  - source_table: "PATHOLOGY_CASE"
    key_columns: ["CASE_NUMBER"]
    data_transformation_rules: ["normalize_null_nan"]

  - source_table: "PIPELINE_LOG"
  - source_table: "PROTEIN_ALIAS"
    key_columns: ["NAME"]
    data_transformation_rules: ["normalize_null_nan"]

  - source_table: "PROTEIN_ALIAS_V"
    key_columns: ["PROTEIN_ALIAS", "HUGO_SYMBOL"]
    data_transformation_rules: ["normalize_null_nan"]

  - source_table: "RACE"
    key_columns: ["NAME"]
    data_transformation_rules: ["normalize_null_nan"]

  - source_table: "SOURCE_FILE_INGEST_LOG"

  - source_table: "SPECIMEN"
    group: "Specimen Group"
    key_columns: ["SPEC_NUMBER_LN1", "PART"]
    data_transformation_rules: ["normalize_null_nan"]

  - source_table: "SPECIMEN_BLOCK"
    group: "Specimen Group"
    key_columns: ["BLOCK"]
    data_transformation_rules: ["normalize_null_nan"]

  - source_table: "SPECIMEN_SOURCE"
    group: "Specimen Group"
    key_columns: ["NAME"]
    data_transformation_rules: ["normalize_null_nan"]

  - source_table: "SPECIMEN_TYPE"
    group: "Specimen Group"
    key_columns: ["NAME"]
    data_transformation_rules: ["normalize_null_nan"]

  - source_table: "SPECIMEN_V"
    group: "Specimen Group"
    key_columns: ["PAT_ID", "PAT_EPI_ID", "MRN", "FIRST_NAME", "LAST_NAME", "DATE_OF_BIRTH", "SPEC_NUMBER_LN1", "PART", "SPECIMEN_TYPE"]
    data_transformation_rules: ["normalize_null_nan"]

  - source_table: "SPECIMEN_V"
    group: "Specimen Group"
    key_columns: ["PAT_ID", "PAT_EPI_ID", "MRN", "FIRST_NAME", "LAST_NAME", "DATE_OF_BIRTH", "SPEC_NUMBER_LN1", "PART"]
    data_transformation_rules: ["normalize_null_nan"]

  - source_table: "STATE"
    key_columns: ["NAME", "ABBREVIATION"]
    data_transformation_rules: ["normalize_null_nan"]

  - source_table: "URGENT_LOGS_LAST_TWO_DAYS_V"
    key_columns: ["PIPELINE"]
    data_transformation_rules: ["normalize_null_nan"]

# Validation Settings
validation_settings:
  output_dir: "database_validation_reports"

  # Maximum number of parallel workers
  max_workers: 2

  # Sample size for data validation (null or 0 = all data)
  sample_size: null

  data_validation_threshold:
    success: 99.0  # Threshold for success rate (percentage)
    warning: 95.0  # Threshold for warning (percentage)

  row_count_difference_threshold:
    success: 1.0   # Threshold for success rate (percentage)
    warning: 5.0   # Threshold for warning (percentage)

  # Enable/disable specific validation types
  enable_schema_validation: true
  enable_data_validation: true
  enable_constraint_validation: false  # Future feature

  # Timeout settings (seconds)
  query_timeout: 300
  connection_timeout: 30
